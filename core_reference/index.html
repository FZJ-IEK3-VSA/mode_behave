<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Core Module - MO|DE.behave Documentation</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Core Module";
        var mkdocs_page_input_path = "core_reference.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> MO|DE.behave Documentation
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Core Module</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../estimation_reference/">Estimation Module</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../post_analysis_reference/">Post-Analysis Module</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../simulation_reference/">Simulation Module</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">MO|DE.behave Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a> &raquo;</li>
      <li>Core Module</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="doc doc-object doc-module">


<a id="mode_behave_public.core"></a>
  <div class="doc doc-contents first">
  
      <p>The module incorporates the class "Core", which inherits functionality from the 
classes "Estimation", "Simulation" and "PostAnalysis".
It defines the core attributes, structure and type of the
discrete choice models to be simulated or estimated. 
Two different types of discrete choice models are differentiated - 
Multinomial logit (MNL) and nonparametrics mixed logit models (MXL).</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="mode_behave_public.core.Core" class="doc doc-heading">
        <code>Core</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="mode_behave_public.estimation.Estimation" href="../estimation_reference/#mode_behave_public.estimation.Estimation">Estimation</a></code>, <code><a class="autorefs autorefs-internal" title="mode_behave_public.simulation.Simulation" href="../simulation_reference/#mode_behave_public.simulation.Simulation">Simulation</a></code>, <code><a class="autorefs autorefs-internal" title="mode_behave_public.post_analysis.PostAnalysis" href="../post_analysis_reference/#mode_behave_public.post_analysis.PostAnalysis">PostAnalysis</a></code></p>

  
      <p>The class "Core" defines the attributes, structure and type of the
mixed logit model, being built.</p>
<p>The class inherits functionality from the classes "Estimation"
and "Simulation"</p>


        <details class="quote">
          <summary>Source code in <code>mode_behave_public\core.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Core</span><span class="p">(</span><span class="n">Estimation</span><span class="p">,</span> <span class="n">Simulation</span><span class="p">,</span> <span class="n">PostAnalysis</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The class &quot;Core&quot; defines the attributes, structure and type of the</span>
<span class="sd">    mixed logit model, being built.</span>

<span class="sd">    The class inherits functionality from the classes &quot;Estimation&quot;</span>
<span class="sd">    and &quot;Simulation&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Object initialization of class &quot;Core&quot;.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        model_type : string, optional</span>
<span class="sd">            Indicates, whether to initiate a simulation- or estimation-model.</span>
<span class="sd">        param : dict, optional</span>
<span class="sd">            Holds the names of all attributes in utility function.</span>
<span class="sd">            list(param) = [&#39;constant&#39;, &#39;variable&#39;] --&gt; Disctinction between variables</span>
<span class="sd">            that are constant over alternatives or vary, respectively.</span>
<span class="sd">            list(param[&#39;constant&#39;]) = [&#39;fixed&#39;, &#39;random&#39;] --&gt; Distinction</span>
<span class="sd">            between variables that are not randomly distributed within</span>
<span class="sd">            a group of decision-makers (&#39;fixed&#39;) and those, that are randomly</span>
<span class="sd">            distributed with a discrete distribution (&#39;random&#39;)</span>
<span class="sd">        max_space : int, optional</span>
<span class="sd">            Maximum number of data points within parameter space.</span>
<span class="sd">        alt: int, optional</span>
<span class="sd">            Number of discrete choice alternatives.</span>
<span class="sd">        equal_alt: int, optional</span>
<span class="sd">            Maximum number of equal alternatives (with different attributes)</span>
<span class="sd">            in a single observation/choice set.</span>
<span class="sd">            E.g. mode choice: Available are two buses and one car. This would</span>
<span class="sd">            lead to a maximum of two equal alternatives (two buses).</span>
<span class="sd">        norm_alt : int, optional</span>
<span class="sd">            Defines, which alternative shall be normalized. Defaults to 0.</span>
<span class="sd">        include_weights : boolean, optional</span>
<span class="sd">            If True, the model searches for a column in the input data, which</span>
<span class="sd">            is called &quot;weight&quot;. This column indicates the weight of each</span>
<span class="sd">            observation in the input data. Defaults to True.</span>
<span class="sd">        data_name : str, optional</span>
<span class="sd">            Defines the filename of the file, which holds the base data</span>
<span class="sd">            to calibrate the MNL or MXL model on.</span>
<span class="sd">        data_in : DataFrame, optional</span>
<span class="sd">            Alternative to -data_name-, if survey data is already loaded</span>
<span class="sd">            to the workspace as a pandas dataframe.</span>
<span class="sd">        data_index : array, optional</span>
<span class="sd">            An array, which holds the index values of those datapoints</span>
<span class="sd">            of the base data, which shall be used for estimation.</span>
<span class="sd">        initial_point_name : str, optional</span>
<span class="sd">            The filename of the file, which holds the estimated MNL parameters.</span>
<span class="sd">        dc_type : str, optional</span>
<span class="sd">            Determines the model type for simulation: MNL or MXL model.</span>
<span class="sd">            Depends on which estimated model parameters are available.</span>
<span class="sd">        dict_specific_travel_cost : dict, optional</span>
<span class="sd">            External specification of transport costs. Relevant for the</span>
<span class="sd">            simulation of mode choice.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">model_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span> <span class="s2">&quot;estimation&quot;</span><span class="p">)</span>

        <span class="c1"># define path to input data</span>
        <span class="n">PATH_MODULE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">sep</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">PATH_InputData</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;InputData&quot;</span> <span class="o">+</span> <span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PATH_ModelParam</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;ModelParam&quot;</span> <span class="o">+</span> <span class="n">sep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">PATH_Visualize</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;Visualizations&quot;</span> <span class="o">+</span> <span class="n">sep</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_type</span> <span class="o">==</span> <span class="s2">&quot;simulation&quot;</span><span class="p">:</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">asc_offset_hh_cars</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">asc_offset_hh_cars</span>

            <span class="c1"># load previously estimated model parameters,</span>
            <span class="c1"># if model-type is simulation.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation_type&quot;</span><span class="p">,</span> <span class="p">[])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;initial_point_in&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare self-configured simulation&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;param&quot;</span><span class="p">,</span> <span class="p">{})</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">==</span> <span class="s2">&quot;car_ownership&quot;</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare car ownership simulation&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">initial_point_car_ownership</span>

                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">==</span> <span class="s2">&quot;mode_choice&quot;</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare mode choice simulation&quot;</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">initial_point_mode</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log_param</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">log_param</span>
                    <span class="n">dict_specific_travel_cost_ext</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                        <span class="s2">&quot;dict_specific_travel_cost&quot;</span><span class="p">,</span> <span class="p">{}</span>
                    <span class="p">)</span>
                    <span class="n">cc_cost_ext</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cc_cost&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_specific_travel_cost_ext</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span> <span class="o">=</span> <span class="n">dict_specific_travel_cost_ext</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="n">config</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span>
                        <span class="p">)</span>
                    <span class="k">if</span> <span class="n">cc_cost_ext</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">cc_cost</span> <span class="o">=</span> <span class="n">cc_cost_ext</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">cc_cost</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">cc_cost_2020</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
<span class="w">                        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                        No pre-estimated parameters for an MNL-model are provided.</span>
<span class="sd">                        If data is available, please indicate the -simulation_type- argument</span>
<span class="sd">                        to find the data in the package-folder ./InputData</span>
<span class="sd">                        If no data is available, please estimate MNL-data first.</span>
<span class="sd">                        &quot;&quot;&quot;</span>
                    <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># define path to input data</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_in</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_in&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

            <span class="c1"># random or fixed within parameter space of Mixed Logit</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;param&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">count_c</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;alt&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equal_alt&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

            <span class="c1"># check, if necessary values have been specified.</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -param- needs to be specified!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_c</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -alt- needs to be specified!&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -equal_alt- needs to be specified!&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">data_index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_index&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">include_weights</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_weights&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data wrangling.&quot;</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_in</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">PATH_InputData</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_name</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s1">&#39;Check the separator of the imported .csv-files. Should be &quot;,&quot;-separated.&#39;</span>
                        <span class="p">)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
                        <span class="s2">&quot;No input data specified. Define -data_in- or -data_name-.&quot;</span>
                    <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># get data-points from indicated indices</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_index</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_index</span><span class="p">]</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length of dataset:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

            <span class="c1"># define choices and availabilities</span>
            <span class="c1"># scale availabilities, if weights are provided in input-data</span>
            <span class="k">if</span> <span class="s2">&quot;weight&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_weights</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weight_vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">weight_vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">choice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">av</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">choice</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                        <span class="s2">&quot;choice_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="p">]</span><span class="o">.</span><span class="n">values</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">av</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;av_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">av_backup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">av</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 id="mode_behave_public.core.Core.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Object initialization of class "Core".</p>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b>model_type</b>
                  (<code>string</code>)
              –
              <div class="doc-md-description">
                <p>Indicates, whether to initiate a simulation- or estimation-model.</p>
              </div>
            </li>
            <li>
              <b>param</b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>Holds the names of all attributes in utility function.
list(param) = ['constant', 'variable'] --&gt; Disctinction between variables
that are constant over alternatives or vary, respectively.
list(param['constant']) = ['fixed', 'random'] --&gt; Distinction
between variables that are not randomly distributed within
a group of decision-makers ('fixed') and those, that are randomly
distributed with a discrete distribution ('random')</p>
              </div>
            </li>
            <li>
              <b>max_space</b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>Maximum number of data points within parameter space.</p>
              </div>
            </li>
            <li>
              <b>alt</b>
              –
              <div class="doc-md-description">
                <p>Number of discrete choice alternatives.</p>
              </div>
            </li>
            <li>
              <b>equal_alt</b>
              –
              <div class="doc-md-description">
                <p>Maximum number of equal alternatives (with different attributes)
in a single observation/choice set.
E.g. mode choice: Available are two buses and one car. This would
lead to a maximum of two equal alternatives (two buses).</p>
              </div>
            </li>
            <li>
              <b>norm_alt</b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>Defines, which alternative shall be normalized. Defaults to 0.</p>
              </div>
            </li>
            <li>
              <b>include_weights</b>
                  (<code>boolean</code>)
              –
              <div class="doc-md-description">
                <p>If True, the model searches for a column in the input data, which
is called "weight". This column indicates the weight of each
observation in the input data. Defaults to True.</p>
              </div>
            </li>
            <li>
              <b>data_name</b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>Defines the filename of the file, which holds the base data
to calibrate the MNL or MXL model on.</p>
              </div>
            </li>
            <li>
              <b>data_in</b>
                  (<code>DataFrame</code>)
              –
              <div class="doc-md-description">
                <p>Alternative to -data_name-, if survey data is already loaded
to the workspace as a pandas dataframe.</p>
              </div>
            </li>
            <li>
              <b>data_index</b>
                  (<code>array</code>)
              –
              <div class="doc-md-description">
                <p>An array, which holds the index values of those datapoints
of the base data, which shall be used for estimation.</p>
              </div>
            </li>
            <li>
              <b>initial_point_name</b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>The filename of the file, which holds the estimated MNL parameters.</p>
              </div>
            </li>
            <li>
              <b>dc_type</b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>Determines the model type for simulation: MNL or MXL model.
Depends on which estimated model parameters are available.</p>
              </div>
            </li>
            <li>
              <b>dict_specific_travel_cost</b>
                  (<code>dict</code>)
              –
              <div class="doc-md-description">
                <p>External specification of transport costs. Relevant for the
simulation of mode choice.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
      <details class="quote">
        <summary>Source code in <code>mode_behave_public\core.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Object initialization of class &quot;Core&quot;.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    model_type : string, optional</span>
<span class="sd">        Indicates, whether to initiate a simulation- or estimation-model.</span>
<span class="sd">    param : dict, optional</span>
<span class="sd">        Holds the names of all attributes in utility function.</span>
<span class="sd">        list(param) = [&#39;constant&#39;, &#39;variable&#39;] --&gt; Disctinction between variables</span>
<span class="sd">        that are constant over alternatives or vary, respectively.</span>
<span class="sd">        list(param[&#39;constant&#39;]) = [&#39;fixed&#39;, &#39;random&#39;] --&gt; Distinction</span>
<span class="sd">        between variables that are not randomly distributed within</span>
<span class="sd">        a group of decision-makers (&#39;fixed&#39;) and those, that are randomly</span>
<span class="sd">        distributed with a discrete distribution (&#39;random&#39;)</span>
<span class="sd">    max_space : int, optional</span>
<span class="sd">        Maximum number of data points within parameter space.</span>
<span class="sd">    alt: int, optional</span>
<span class="sd">        Number of discrete choice alternatives.</span>
<span class="sd">    equal_alt: int, optional</span>
<span class="sd">        Maximum number of equal alternatives (with different attributes)</span>
<span class="sd">        in a single observation/choice set.</span>
<span class="sd">        E.g. mode choice: Available are two buses and one car. This would</span>
<span class="sd">        lead to a maximum of two equal alternatives (two buses).</span>
<span class="sd">    norm_alt : int, optional</span>
<span class="sd">        Defines, which alternative shall be normalized. Defaults to 0.</span>
<span class="sd">    include_weights : boolean, optional</span>
<span class="sd">        If True, the model searches for a column in the input data, which</span>
<span class="sd">        is called &quot;weight&quot;. This column indicates the weight of each</span>
<span class="sd">        observation in the input data. Defaults to True.</span>
<span class="sd">    data_name : str, optional</span>
<span class="sd">        Defines the filename of the file, which holds the base data</span>
<span class="sd">        to calibrate the MNL or MXL model on.</span>
<span class="sd">    data_in : DataFrame, optional</span>
<span class="sd">        Alternative to -data_name-, if survey data is already loaded</span>
<span class="sd">        to the workspace as a pandas dataframe.</span>
<span class="sd">    data_index : array, optional</span>
<span class="sd">        An array, which holds the index values of those datapoints</span>
<span class="sd">        of the base data, which shall be used for estimation.</span>
<span class="sd">    initial_point_name : str, optional</span>
<span class="sd">        The filename of the file, which holds the estimated MNL parameters.</span>
<span class="sd">    dc_type : str, optional</span>
<span class="sd">        Determines the model type for simulation: MNL or MXL model.</span>
<span class="sd">        Depends on which estimated model parameters are available.</span>
<span class="sd">    dict_specific_travel_cost : dict, optional</span>
<span class="sd">        External specification of transport costs. Relevant for the</span>
<span class="sd">        simulation of mode choice.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">model_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;model_type&quot;</span><span class="p">,</span> <span class="s2">&quot;estimation&quot;</span><span class="p">)</span>

    <span class="c1"># define path to input data</span>
    <span class="n">PATH_MODULE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
    <span class="n">sep</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">PATH_InputData</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;InputData&quot;</span> <span class="o">+</span> <span class="n">sep</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">PATH_ModelParam</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;ModelParam&quot;</span> <span class="o">+</span> <span class="n">sep</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">PATH_Visualize</span> <span class="o">=</span> <span class="n">PATH_MODULE</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="s2">&quot;Visualizations&quot;</span> <span class="o">+</span> <span class="n">sep</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_type</span> <span class="o">==</span> <span class="s2">&quot;simulation&quot;</span><span class="p">:</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">asc_offset_hh_cars</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">asc_offset_hh_cars</span>

        <span class="c1"># load previously estimated model parameters,</span>
        <span class="c1"># if model-type is simulation.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;simulation_type&quot;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;initial_point_in&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare self-configured simulation&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_point_in</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;param&quot;</span><span class="p">,</span> <span class="p">{})</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">==</span> <span class="s2">&quot;car_ownership&quot;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare car ownership simulation&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">initial_point_car_ownership</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">simulation_type</span> <span class="o">==</span> <span class="s2">&quot;mode_choice&quot;</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prepare mode choice simulation&quot;</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">initial_point</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">initial_point_mode</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_param</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">log_param</span>
                <span class="n">dict_specific_travel_cost_ext</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="s2">&quot;dict_specific_travel_cost&quot;</span><span class="p">,</span> <span class="p">{}</span>
                <span class="p">)</span>
                <span class="n">cc_cost_ext</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cc_cost&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_specific_travel_cost_ext</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span> <span class="o">=</span> <span class="n">dict_specific_travel_cost_ext</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">config</span><span class="o">.</span><span class="n">dict_specific_travel_cost</span>
                    <span class="p">)</span>
                <span class="k">if</span> <span class="n">cc_cost_ext</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cc_cost</span> <span class="o">=</span> <span class="n">cc_cost_ext</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cc_cost</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">cc_cost_2020</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
<span class="w">                    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                    No pre-estimated parameters for an MNL-model are provided.</span>
<span class="sd">                    If data is available, please indicate the -simulation_type- argument</span>
<span class="sd">                    to find the data in the package-folder ./InputData</span>
<span class="sd">                    If no data is available, please estimate MNL-data first.</span>
<span class="sd">                    &quot;&quot;&quot;</span>
                <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># define path to input data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_in</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_in&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="c1"># random or fixed within parameter space of Mixed Logit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;param&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_c</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;alt&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equal_alt&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1"># check, if necessary values have been specified.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -param- needs to be specified!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_c</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -alt- needs to be specified!&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Argument -equal_alt- needs to be specified!&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_constant_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;constant&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_fixed</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;fixed&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">no_variable_random</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="s2">&quot;variable&quot;</span><span class="p">][</span><span class="s2">&quot;random&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_index</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data_index&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">include_weights</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;include_weights&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data wrangling.&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_in</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">PATH_InputData</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_name</span> <span class="o">+</span> <span class="s2">&quot;.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s1">&#39;Check the separator of the imported .csv-files. Should be &quot;,&quot;-separated.&#39;</span>
                    <span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
                    <span class="s2">&quot;No input data specified. Define -data_in- or -data_name-.&quot;</span>
                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># get data-points from indicated indices</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_index</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data_index</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length of dataset:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

        <span class="c1"># define choices and availabilities</span>
        <span class="c1"># scale availabilities, if weights are provided in input-data</span>
        <span class="k">if</span> <span class="s2">&quot;weight&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_weights</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weight_vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">weight_vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">choice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">av</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_c</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count_e</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">choice</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
                    <span class="s2">&quot;choice_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="p">]</span><span class="o">.</span><span class="n">values</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">av</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;av_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">av_backup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">av</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>




  </div>

  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Home"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../estimation_reference/" class="btn btn-neutral float-right" title="Estimation Module">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../estimation_reference/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
